# Há»‡ Thá»‘ng Y Táº¿ Microservices

Há»‡ thá»‘ng quáº£n lÃ½ y táº¿ toÃ n diá»‡n, tÃ­ch há»£p AI Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn kiáº¿n trÃºc microservices, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ tá»‘i Æ°u hÃ³a cÃ¡c hoáº¡t Ä‘á»™ng chÄƒm sÃ³c sá»©c khá»e cho bá»‡nh nhÃ¢n, bÃ¡c sÄ©, y tÃ¡, dÆ°á»£c sÄ© vÃ  quáº£n trá»‹ viÃªn.

## ğŸ¥ Tá»•ng Quan

Ná»n táº£ng y táº¿ nÃ y cung cáº¥p má»™t há»‡ sinh thÃ¡i chÄƒm sÃ³c sá»©c khá»e sá»‘ hoÃ n chá»‰nh vá»›i cÃ¡c tÃ­nh nÄƒng AI tiÃªn tiáº¿n, bao gá»“m chatbot thÃ´ng minh, trá»£ lÃ½ cháº©n Ä‘oÃ¡n áº£o vÃ  quáº£n lÃ½ há»“ sÆ¡ y táº¿ toÃ n diá»‡n. Há»‡ thá»‘ng Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng kiáº¿n trÃºc microservices hiá»‡n Ä‘áº¡i vá»›i Docker container hÃ³a Ä‘á»ƒ Ä‘áº£m báº£o kháº£ nÄƒng má»Ÿ rá»™ng vÃ  báº£o trÃ¬.

## ğŸš€ TÃ­nh NÄƒng ChÃ­nh

### ğŸ¤– Y Táº¿ TÃ­ch Há»£p AI
- **Chatbot ThÃ´ng Minh**: AI Ä‘á»‘i thoáº¡i Ä‘Æ°á»£c trang bá»‹ TensorFlow há»— trá»£ bá»‡nh nhÃ¢n
- **Robot Cháº©n ÄoÃ¡n áº¢o**: ÄÃ¡nh giÃ¡ sá»©c khá»e sÆ¡ bá»™ báº±ng AI
- **AI Giáº£i ThÃ­ch Ä‘Æ°á»£c (LIME)**: Ra quyáº¿t Ä‘á»‹nh AI minh báº¡ch vá»›i lá»i giáº£i thÃ­ch

### ğŸ‘¥ Há»— Trá»£ Äa Vai TrÃ²
- **Bá»‡nh NhÃ¢n**: Äáº·t lá»‹ch khÃ¡m, truy cáº­p há»“ sÆ¡ y táº¿, quáº£n lÃ½ Ä‘Æ¡n thuá»‘c
- **BÃ¡c SÄ©**: Quáº£n lÃ½ bá»‡nh nhÃ¢n, cÃ´ng cá»¥ cháº©n Ä‘oÃ¡n, láº­p lá»‹ch háº¹n
- **Y TÃ¡**: Phá»‘i há»£p chÄƒm sÃ³c bá»‡nh nhÃ¢n, cáº­p nháº­t há»“ sÆ¡ y táº¿
- **DÆ°á»£c SÄ©**: Quáº£n lÃ½ Ä‘Æ¡n thuá»‘c, theo dÃµi tá»“n kho
- **Quáº£n Trá»‹ ViÃªn**: GiÃ¡m sÃ¡t há»‡ thá»‘ng, quáº£n lÃ½ ngÆ°á»i dÃ¹ng, phÃ¢n tÃ­ch

### ğŸ—ï¸ CÃ¡c Module Y Táº¿ Cá»‘t LÃµi
- **Quáº£n LÃ½ NgÆ°á»i DÃ¹ng**: XÃ¡c thá»±c an toÃ n vá»›i JWT vÃ  kiá»ƒm soÃ¡t truy cáº­p theo vai trÃ²
- **Há»‡ Thá»‘ng Äáº·t Lá»‹ch**: Láº­p lá»‹ch vÃ  quáº£n lÃ½ toÃ n diá»‡n
- **Há»“ SÆ¡ LÃ¢m SÃ ng**: Há»“ sÆ¡ sá»©c khá»e Ä‘iá»‡n tá»­ (EHR) hoÃ n chá»‰nh
- **Quáº£n LÃ½ NhÃ  Thuá»‘c**: Theo dÃµi Ä‘Æ¡n thuá»‘c vÃ  tá»“n kho
- **Dá»‹ch Vá»¥ XÃ©t Nghiá»‡m**: Äáº·t hÃ ng xÃ©t nghiá»‡m vÃ  quáº£n lÃ½ káº¿t quáº£
- **TÃ­ch Há»£p Báº£o Hiá»ƒm**: Xá»­ lÃ½ yÃªu cáº§u vÃ  xÃ¡c minh báº£o hiá»ƒm
- **ThÃ´ng BÃ¡o Thá»i Gian Thá»±c**: Há»‡ thá»‘ng giao tiáº¿p Ä‘a kÃªnh

## ğŸ›ï¸ Kiáº¿n TrÃºc

### Tá»•ng Quan Microservices

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚     Gateway      â”‚    â”‚  Dá»‹ch Vá»¥        â”‚
â”‚   (React)       â”‚â—„â”€â”€â–ºâ”‚    (Django)      â”‚â—„â”€â”€â–ºâ”‚  ThÃ´ng BÃ¡o      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚Dá»‹ch Vá»¥      â”‚ â”‚Dá»‹ch Vá»¥      â”‚ â”‚ Dá»‹ch Vá»¥   â”‚
        â”‚NgÆ°á»i DÃ¹ng   â”‚ â”‚Äáº·t Lá»‹ch     â”‚ â”‚ LÃ¢m SÃ ng  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚               â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚ Dá»‹ch Vá»¥     â”‚ â”‚Dá»‹ch Vá»¥      â”‚ â”‚Dá»‹ch Vá»¥    â”‚
        â”‚ NhÃ  Thuá»‘c   â”‚ â”‚XÃ©t Nghiá»‡m   â”‚ â”‚Báº£o Hiá»ƒm   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚Robot áº¢o     â”‚ â”‚  Chatbot    â”‚
        â”‚             â”‚ â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NgÄƒn Xáº¿p CÃ´ng Nghá»‡

#### Backend
- **Framework**: Django REST Framework
- **XÃ¡c Thá»±c**: JWT (JSON Web Tokens)
- **CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u**: PostgreSQL (cáº¥u hÃ¬nh sáºµn sÃ ng production)
- **API Gateway**: Äá»‹nh tuyáº¿n tÃ¹y chá»‰nh dá»±a trÃªn Django
- **Container hÃ³a**: Docker & Docker Compose

#### Frontend
- **Framework**: React 18 vá»›i Vite
- **Styling**: Tailwind CSS
- **UI Components**: Lucide React icons
- **Build Tool**: Vite cho phÃ¡t triá»ƒn nhanh

#### ThÃ nh Pháº§n AI/ML
- **Machine Learning**: TensorFlow & Scikit-learn
- **AI Giáº£i ThÃ­ch Ä‘Æ°á»£c**: LIME (Local Interpretable Model-agnostic Explanations)
- **Xá»­ LÃ½ Dá»¯ Liá»‡u**: Pandas & NumPy
- **Trá»±c Quan HÃ³a**: Matplotlib & Seaborn

## ğŸ› ï¸ CÃ i Äáº·t & Thiáº¿t Láº­p

### YÃªu Cáº§u Há»‡ Thá»‘ng
- Docker & Docker Compose
- Node.js 18+ (cho phÃ¡t triá»ƒn frontend)
- Python 3.9+ (cho phÃ¡t triá»ƒn backend)

### Khá»Ÿi Cháº¡y Nhanh

1. **Clone repository**
   ```bash
   git clone <repository-url>
   cd healthcare-microservices
   ```

2. **Thiáº¿t láº­p mÃ´i trÆ°á»ng**
   ```bash
   # Sao chÃ©p file mÃ´i trÆ°á»ng
   cp gateway/.env.example gateway/.env
   # Cáº­p nháº­t thÃ´ng tin database vÃ  JWT secrets trong file .env
   ```

3. **Build vÃ  cháº¡y vá»›i Docker**
   ```bash
   docker-compose up --build -d
   ```

4. **Truy cáº­p á»©ng dá»¥ng**
   - Frontend: http://localhost:3000
   - API Gateway: http://localhost:8000
   - CÃ¡c dá»‹ch vá»¥ riÃªng láº»: Cá»•ng 8001-8009

### Thiáº¿t Láº­p PhÃ¡t Triá»ƒn

#### PhÃ¡t Triá»ƒn Backend
```bash
# CÃ i Ä‘áº·t dependencies Python cho tá»«ng service
cd user_service
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 8001

# Láº·p láº¡i cho cÃ¡c service khÃ¡c (cá»•ng 8002-8009)
```

#### PhÃ¡t Triá»ƒn Frontend
```bash
cd frontend
npm install
npm run dev
```

## ğŸ“‹ TÃ i Liá»‡u API

### XÃ¡c Thá»±c
Táº¥t cáº£ API endpoints Ä‘á»u yÃªu cáº§u xÃ¡c thá»±c JWT (trá»« Ä‘Äƒng kÃ½/Ä‘Äƒng nháº­p):

```bash
# ÄÄƒng nháº­p
POST /api/auth/login/
{
  "username": "user@example.com",
  "password": "password"
}

# Pháº£n há»“i
{
  "access": "jwt_token_here",
  "refresh": "refresh_token_here",
  "user": {...}
}
```

### CÃ¡c Endpoint ChÃ­nh

#### Quáº£n LÃ½ NgÆ°á»i DÃ¹ng
- `POST /api/users/register/` - ÄÄƒng kÃ½ ngÆ°á»i dÃ¹ng
- `GET /api/users/profile/` - Láº¥y thÃ´ng tin há»“ sÆ¡
- `PUT /api/users/profile/` - Cáº­p nháº­t há»“ sÆ¡

#### Lá»‹ch Háº¹n
- `GET /api/appointments/` - Danh sÃ¡ch lá»‹ch háº¹n
- `POST /api/appointments/` - Táº¡o lá»‹ch háº¹n
- `PUT /api/appointments/{id}/` - Cáº­p nháº­t lá»‹ch háº¹n
- `DELETE /api/appointments/{id}/` - Há»§y lá»‹ch háº¹n

#### Há»“ SÆ¡ Y Táº¿
- `GET /api/clinical/records/` - Láº¥y há»“ sÆ¡ y táº¿
- `POST /api/clinical/records/` - Táº¡o há»“ sÆ¡
- `GET /api/clinical/records/{id}/` - Láº¥y há»“ sÆ¡ cá»¥ thá»ƒ

#### Dá»‹ch Vá»¥ AI
- `POST /api/chatbot/chat/` - Chat vá»›i trá»£ lÃ½ AI
- `POST /api/virtual-robot/diagnose/` - ÄÃ¡nh giÃ¡ cháº©n Ä‘oÃ¡n áº£o

## ğŸ”’ TÃ­nh NÄƒng Báº£o Máº­t

- **XÃ¡c Thá»±c JWT**: XÃ¡c thá»±c an toÃ n dá»±a trÃªn token
- **Kiá»ƒm SoÃ¡t Truy Cáº­p Theo Vai TrÃ²**: Quyá»n háº¡n chi tiáº¿t cho tá»«ng loáº¡i ngÆ°á»i dÃ¹ng
- **Cáº¥u HÃ¬nh CORS**: Chia sáº» tÃ i nguyÃªn cross-origin an toÃ n
- **Biáº¿n MÃ´i TrÆ°á»ng**: Báº£o vá»‡ dá»¯ liá»‡u nháº¡y cáº£m
- **Báº£o Máº­t Database**: Káº¿t ná»‘i mÃ£ hÃ³a vÃ  truy váº¥n an toÃ n

## ğŸ§ª TÃ­nh NÄƒng AI/ML

### TrÃ­ Tuá»‡ Chatbot
Chatbot y táº¿ sá»­ dá»¥ng mÃ´ hÃ¬nh TensorFlow Ä‘Æ°á»£c Ä‘Ã o táº¡o trÃªn bá»™ dá»¯ liá»‡u y táº¿ Ä‘á»ƒ:
- Tráº£ lá»i cÃ¡c cÃ¢u há»i sá»©c khá»e thÆ°á»ng gáº·p
- Cung cáº¥p thÃ´ng tin vá» thuá»‘c
- HÆ°á»›ng dáº«n ngÆ°á»i dÃ¹ng Ä‘Ã¡nh giÃ¡ triá»‡u chá»©ng
- Cung cáº¥p ná»™i dung giÃ¡o dá»¥c sá»©c khá»e

### Robot Cháº©n ÄoÃ¡n áº¢o
Há»‡ thá»‘ng AI tiÃªn tiáº¿n cÃ³ thá»ƒ:
- Thá»±c hiá»‡n Ä‘Ã¡nh giÃ¡ sá»©c khá»e sÆ¡ bá»™
- PhÃ¢n tÃ­ch triá»‡u chá»©ng báº±ng machine learning
- Cung cáº¥p quyáº¿t Ä‘á»‹nh AI cÃ³ thá»ƒ giáº£i thÃ­ch Ä‘Æ°á»£c báº±ng LIME
- ÄÆ°a ra khuyáº¿n nghá»‹ chÄƒm sÃ³c

### ÄÃ o Táº¡o MÃ´ HÃ¬nh
Notebook `Chat.ipynb` chá»©a:
- Pipeline tiá»n xá»­ lÃ½ dá»¯ liá»‡u
- Quy trÃ¬nh Ä‘Ã o táº¡o mÃ´ hÃ¬nh
- TÃ­ch há»£p kháº£ nÄƒng giáº£i thÃ­ch LIME
- CÃ¡c chá»‰ sá»‘ Ä‘Ã¡nh giÃ¡ hiá»‡u suáº¥t

## ğŸ—„ï¸ LÆ°á»£c Äá»“ CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u

### Há»“ SÆ¡ NgÆ°á»i DÃ¹ng
- **PatientProfile**: Lá»‹ch sá»­ y táº¿, dá»‹ á»©ng, liÃªn há»‡ kháº©n cáº¥p
- **DoctorProfile**: ChuyÃªn khoa, thÃ´ng tin giáº¥y phÃ©p, lá»‹ch lÃ m viá»‡c
- **NurseProfile**: Chá»©ng chá»‰, phÃ²ng ban Ä‘Æ°á»£c phÃ¢n cÃ´ng
- **PharmacistProfile**: Chi tiáº¿t giáº¥y phÃ©p, phÃ¢n cÃ´ng nhÃ  thuá»‘c
- **AdminProfile**: Quyá»n há»‡ thá»‘ng, pháº¡m vi quáº£n lÃ½

### Dá»¯ Liá»‡u Y Táº¿
- **MedicalRecord**: Há»“ sÆ¡ sá»©c khá»e toÃ n diá»‡n
- **Prescription**: ÄÆ¡n thuá»‘c vÃ  lá»‹ch sá»­
- **LabTest**: Káº¿t quáº£ xÃ©t nghiá»‡m
- **Appointment**: Theo dÃµi lá»‹ch háº¹n vÃ  tráº¡ng thÃ¡i
- **InsuranceClaim**: ThÃ´ng tin báº£o hiá»ƒm vÃ  thanh toÃ¡n

## ğŸ³ Dá»‹ch Vá»¥ Docker

| Dá»‹ch Vá»¥ | Cá»•ng | MÃ´ Táº£ |
|---------|------|-------|
| gateway | 8000 | API Gateway & Äá»‹nh tuyáº¿n |
| user_service | 8001 | Quáº£n lÃ½ ngÆ°á»i dÃ¹ng & há»“ sÆ¡ |
| appointment_service | 8002 | Láº­p lá»‹ch háº¹n |
| clinical_service | 8003 | Há»“ sÆ¡ y táº¿ & dá»¯ liá»‡u lÃ¢m sÃ ng |
| pharmacy_service | 8004 | Quáº£n lÃ½ Ä‘Æ¡n thuá»‘c |
| lab_service | 8005 | XÃ©t nghiá»‡m & káº¿t quáº£ |
| insurance_service | 8006 | YÃªu cáº§u báº£o hiá»ƒm & báº£o hiá»ƒm |
| notification_service | 8007 | ThÃ´ng bÃ¡o Ä‘a kÃªnh |
| virtualrobot_service | 8008 | Há»— trá»£ cháº©n Ä‘oÃ¡n AI |
| chatbot_service | 8009 | AI Ä‘á»‘i thoáº¡i |
| frontend | 3000 | Giao diá»‡n React |

## ğŸ§­ VÃ­ Dá»¥ Sá»­ Dá»¥ng

### HÃ nh TrÃ¬nh Bá»‡nh NhÃ¢n
1. **ÄÄƒng KÃ½**: Táº¡o tÃ i khoáº£n vá»›i lá»±a chá»n vai trÃ²
2. **Thiáº¿t Láº­p Há»“ SÆ¡**: HoÃ n thÃ nh lá»‹ch sá»­ y táº¿ vÃ  sá»Ÿ thÃ­ch
3. **Äáº·t Lá»‹ch Háº¹n**: Láº­p lá»‹ch vá»›i bÃ¡c sÄ© cÃ³ sáºµn
4. **TÆ° Váº¥n AI**: Sá»­ dá»¥ng chatbot cho cÃ¢u há»i sÆ¡ bá»™
5. **ÄÃ¡nh GiÃ¡ áº¢o**: Nháº­n Ä‘Ã¡nh giÃ¡ sá»©c khá»e báº±ng AI
6. **Há»“ SÆ¡ Y Táº¿**: Truy cáº­p lá»‹ch sá»­ sá»©c khá»e hoÃ n chá»‰nh
7. **Quáº£n LÃ½ ÄÆ¡n Thuá»‘c**: Theo dÃµi thuá»‘c vÃ  tÃ¡i cáº¥p

### Quy TrÃ¬nh NhÃ  Cung Cáº¥p Dá»‹ch Vá»¥ Y Táº¿
1. **Truy Cáº­p Dashboard**: Giao diá»‡n theo vai trÃ² cá»¥ thá»ƒ
2. **Quáº£n LÃ½ Bá»‡nh NhÃ¢n**: Xem bá»‡nh nhÃ¢n Ä‘Æ°á»£c phÃ¢n cÃ´ng
3. **Xá»­ LÃ½ Lá»‹ch Háº¹n**: Quáº£n lÃ½ lá»‹ch trÃ¬nh vÃ  tÃ¬nh tráº¡ng sáºµn sÃ ng
4. **TÃ i Liá»‡u LÃ¢m SÃ ng**: Cáº­p nháº­t há»“ sÆ¡ y táº¿
5. **Há»— Trá»£ AI**: Táº­n dá»¥ng cÃ´ng cá»¥ cháº©n Ä‘oÃ¡n
6. **Giao Tiáº¿p**: Phá»‘i há»£p vá»›i cÃ¡c nhÃ  cung cáº¥p khÃ¡c

## ğŸ¤ ÄÃ³ng GÃ³p

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/tinh-nang-tuyet-voi`)
3. Commit thay Ä‘á»•i (`git commit -m 'ThÃªm tÃ­nh nÄƒng tuyá»‡t vá»i'`)
4. Push lÃªn branch (`git push origin feature/tinh-nang-tuyet-voi`)
5. Má»Ÿ Pull Request

## ğŸ“„ Giáº¥y PhÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c cáº¥p phÃ©p theo Giáº¥y phÃ©p MIT - xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t chi tiáº¿t.

## ğŸ†˜ Há»— Trá»£

Äá»ƒ Ä‘Æ°á»£c há»— trá»£ vÃ  cÃ¢u há»i:
- Táº¡o issue trÃªn GitHub
- LiÃªn há»‡ nhÃ³m phÃ¡t triá»ƒn
- Kiá»ƒm tra wiki tÃ i liá»‡u

---

**ÄÆ°á»£c xÃ¢y dá»±ng vá»›i â¤ï¸ Ä‘á»ƒ cung cáº¥p dá»‹ch vá»¥ chÄƒm sÃ³c sá»©c khá»e tá»‘t hÆ¡n**
